# –ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ –Ω–æ–≤—ã–π –∏–≥—Ä–æ–≤–æ–π –¥–≤–∏–∂–æ–∫

–≠—Ç–æ—Ç –≥–∞–π–¥ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–∞–∫ –ø–µ—Ä–µ–π—Ç–∏ –æ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å–∏—Å—Ç–µ–º—ã –∫ –Ω–æ–≤–æ–º—É —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–º—É –¥–≤–∏–∂–∫—É.

## –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. –°–æ–∑–¥–∞–Ω —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –¥–≤–∏–∂–æ–∫
- **engine/GameEngine.js** - –û—Å–Ω–æ–≤–Ω–æ–π –¥–≤–∏–∂–æ–∫
- **engine/interfaces/GameConfig.js** - –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏–≥—Ä—ã
- **engine/GameEngineFactory.js** - –§–∞–±—Ä–∏–∫–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ä–∞–∑–Ω—ã—Ö –∏–≥—Ä

### 2. –í—ã–Ω–µ—Å–µ–Ω—ã –∏–≥—Ä–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- **games/pulpulak/PulpulakGameConfig.js** - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏–≥—Ä—ã "–ü—É–ª–ø—É–ª–∞–∫"
- **games/detective/DetectiveGameConfig.js** - –ü—Ä–∏–º–µ—Ä –¥—Ä—É–≥–æ–π –∏–≥—Ä—ã

### 3. –°–æ–∑–¥–∞–Ω –ø—Ä–∏–º–µ—Ä –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- **example_integration.js** - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–æ–≤—ã–π –¥–≤–∏–∂–æ–∫

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞

1. **–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞** - –æ–¥–∏–Ω –¥–≤–∏–∂–æ–∫ –¥–ª—è –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –∏–≥—Ä
2. **–ü—Ä–æ—Å—Ç–æ—Ç–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö –∏–≥—Ä** - —Ç–æ–ª—å–∫–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è, –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–≤–∏–∂–∫–∞
3. **–õ—É—á—à–∞—è –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç—å** - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–≥–æ–≤ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∫–æ –≤—Å–µ–º –∏–≥—Ä–∞–º
4. **–ë—ã—Å—Ç—Ä–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞** - –Ω–æ–≤–∞—è –∏–≥—Ä–∞ = –Ω–æ–≤—ã–π –∫–æ–Ω—Ñ–∏–≥-—Ñ–∞–π–ª

## –ö–∞–∫ –º–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥

### –®–∞–≥ 1: –ó–∞–º–µ–Ω–∞ –≤ server.js

–í–º–µ—Å—Ç–æ:
```javascript
const CoopGameLogic = require('./game/coopGameLogic');
const gameLogic = new CoopGameLogic();
```

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ:
```javascript
const GameEngineFactory = require('./engine/GameEngineFactory');
const gameEngine = GameEngineFactory.createEngine('pulpulak');
```

### –®–∞–≥ 2: –ó–∞–º–µ–Ω–∞ –≤ socketHandler.js

–í–º–µ—Å—Ç–æ:
```javascript
const gameData = gameLogic.startGame(roomId, players);
```

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ:
```javascript
const gameData = gameEngine.startGame(roomId, players);
```

### –®–∞–≥ 3: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

–í—Å–µ –º–µ—Ç–æ–¥—ã –æ—Å—Ç–∞—é—Ç—Å—è —Ç–µ–º–∏ –∂–µ:
- `startGame(roomId, players)`
- `makeChoice(roomId, playerId, choiceId, character)`
- `getGameData(roomId)`
- `removeGame(roomId)`

### –®–∞–≥ 4: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤—ã–±–æ—Ä–∞ –∏–≥—Ä—ã

–î–æ–±–∞–≤—å—Ç–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤—ã–±–∏—Ä–∞—Ç—å —Ç–∏–ø –∏–≥—Ä—ã:

```javascript
// –í –≥–ª–∞–≤–Ω–æ–º –º–µ–Ω—é
socket.on('select_game', ({ gameId }) => {
    const availableGames = GameEngineFactory.getAvailableGames();
    socket.emit('games_list', availableGames);
});

socket.on('start_game', ({ gameId, roomId, players }) => {
    const engine = GameEngineFactory.createEngine(gameId);
    // ... –æ—Å—Ç–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞
});
```

## –ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –∏–≥—Ä—É

### 1. –°–æ–∑–¥–∞–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é

```javascript
const GameConfigInterface = require('../engine/interfaces/GameConfig');

class MyGameConfig extends GameConfigInterface {
    constructor() {
        super();
        
        this.gameId = 'my_game';
        this.gameName = '–ú–æ—è –∏–≥—Ä–∞';
        
        // –û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π
        this.characters = {
            player1: { name: '–ò–≥—Ä–æ–∫ 1' },
            player2: { name: '–ò–≥—Ä–æ–∫ 2' }
        };
        
        // –û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –ª–æ–∫–∞—Ü–∏–∏
        this.locations = {
            start: {
                name: '–ù–∞—á–∞–ª—å–Ω–∞—è –ª–æ–∫–∞—Ü–∏—è',
                connections: ['forest'],
                canChangeOutfit: true,
                icon: 'üè†',
                npcs: []
            }
        };
        
        // –û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ —Å—é–∂–µ—Ç
        this.scenes = {
            opening: {
                title: '–ù–∞—á–∞–ª–æ',
                text: '–ò–≥—Ä–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è...',
                choices: {
                    player1: [{ id: 'start', text: '–ù–∞—á–∞—Ç—å' }],
                    player2: [{ id: 'start', text: '–ù–∞—á–∞—Ç—å' }]
                }
            }
        };
        
        this.startingScene = 'opening';
        this.initialState = {
            startingLocation: 'start',
            startingOutfits: { player1: 'default', player2: 'default' }
        };
    }
}
```

### 2. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ –∏–≥—Ä—É

```javascript
const GameEngineFactory = require('./engine/GameEngineFactory');
const MyGameConfig = require('./games/mygame/MyGameConfig');

GameEngineFactory.registerGame('my_game', MyGameConfig);
```

### 3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–∞–∫ –æ–±—ã—á–Ω–æ

```javascript
const engine = GameEngineFactory.createEngine('my_game');
const gameData = engine.startGame(roomId, players);
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–º–µ—Ä:
```bash
node example_integration.js
```

–≠—Ç–æ –ø–æ–∫–∞–∂–µ—Ç:
- –°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∏–≥—Ä
- –í–∞–ª–∏–¥–∞—Ü–∏—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π
- –ó–∞–ø—É—Å–∫ —Ä–∞–∑–Ω—ã—Ö –∏–≥—Ä
- –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π

## –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è

–ú–æ–∂–Ω–æ –º–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ:

1. **–°–Ω–∞—á–∞–ª–∞** - –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –¥–≤–∏–∂–æ–∫ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å–æ —Å—Ç–∞—Ä—ã–º
2. **–ü–æ—Ç–æ–º** - —Å–æ–∑–¥–∞—Ç—å —Ä–æ—É—Ç –¥–ª—è –≤—ã–±–æ—Ä–∞ "–Ω–æ–≤–∞—è/—Å—Ç–∞—Ä–∞—è" —Å–∏—Å—Ç–µ–º–∞
3. **–ó–∞—Ç–µ–º** - –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É
4. **–ù–∞–∫–æ–Ω–µ—Ü** - –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ –Ω–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É

## –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

–ù–æ–≤—ã–π –¥–≤–∏–∂–æ–∫ —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω —Ç–∞–∫, —á—Ç–æ–±—ã API –æ—Å—Ç–∞–≤–∞–ª—Å—è —Ç–µ–º –∂–µ. –ë–æ–ª—å—à–∞—è —á–∞—Å—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∫–æ–¥–∞ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π.

## –ß—Ç–æ –¥–∞–ª—å—à–µ?

1. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –Ω–æ–≤—ã–π –¥–≤–∏–∂–æ–∫
2. –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ—Å—Ç—É—é –Ω–æ–≤—É—é –∏–≥—Ä—É –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
3. –ú–∏–≥—Ä–∏—Ä—É–π—Ç–µ –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ
4. –î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ –¥–≤–∏–∂–æ–∫ –ø–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

–ù–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø–æ–∑–≤–æ–ª–∏—Ç –ª–µ–≥–∫–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Ä–∞–∑–Ω—ã—Ö –∏–≥—Ä –Ω–∞ –æ–¥–Ω–æ–π –æ—Å–Ω–æ–≤–µ!